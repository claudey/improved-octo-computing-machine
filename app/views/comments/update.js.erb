var commentCount = {}
commentCount = document.querySelector('.comment_count')
var recipeCommentCount = {}
recipeCommentCount = document.querySelector('.recipe-comment-count')
var addCommentForm = {}
addCommentForm = document.querySelector('.comment_new_form')
var editedCommentSection = {}
editedCommentSection = document.querySelector("#comment_<%= @comment.id %>")
var editedCommentContent = {}
editedCommentContent = document.querySelector("#content_comment_<%= @comment.id %>")

document.querySelector('.errors-comment').innerText = ''
<% if @comment.errors.any? %>
  document.querySelector('.errors-comment').insertAdjacentHTML('beforeend', '<%= j render 'shared/errors', resource: @comment %>')
  document.querySelector("#form-input_comment_<%= @comment.id %>").value = document.querySelector("#form-input_comment_<%= @comment.id %>").getAttribute('value') 
<% else %>
  <% return unless @comment.persisted? %>
  editedCommentSection.innerHTML = ''
  editedCommentSection.insertAdjacentHTML('beforebegin', '<%= j render 'comments/comment', comment: @comment %>')
  commentCount.innerHTML = "<%= t('recipes.show.commented_html', count: @comment.recipe.comments.count) %>"
  if (addCommentForm.classList.contains('d-none')) { addCommentForm.classList.remove('d-none') }
  recipeCommentCount.innerHTML = "<%= t('recipes.show.comments_count', count: @comment.recipe.comments.count)%>"
<% end %>
